<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Cryopid-devel] error in fork2.c
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/cryopid-devel/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:cryopid-devel%40lists.berlios.de?Subject=Re%3A%20%5BCryopid-devel%5D%20error%20in%20fork2.c&In-Reply-To=%3C1235626010.5390.437.camel%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000081.html">
   <LINK REL="Next"  HREF="000084.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cryopid-devel] error in fork2.c</H1>
    <B>Tim Post</B> 
    <A HREF="mailto:cryopid-devel%40lists.berlios.de?Subject=Re%3A%20%5BCryopid-devel%5D%20error%20in%20fork2.c&In-Reply-To=%3C1235626010.5390.437.camel%40localhost.localdomain%3E"
       TITLE="[Cryopid-devel] error in fork2.c">echo at echoreply.us
       </A><BR>
    <I>Thu Feb 26 06:26:50 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000081.html">[Cryopid-devel] error in fork2.c
</A></li>
        <LI>Next message: <A HREF="000084.html">[Cryopid-devel] error in fork2.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83">[ date ]</a>
              <a href="thread.html#83">[ thread ]</a>
              <a href="subject.html#83">[ subject ]</a>
              <a href="author.html#83">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

On Thu, 2009-02-26 at 09:29 +0530, Rohit Banga wrote:
&gt;<i> hello
</I>&gt;<i> 
</I>&gt;<i> exactly... but look at the code
</I>&gt;<i> case 0: parent               ... helper_pid = 0 for child and pid of
</I>&gt;<i> child in parent
</I>&gt;<i> and execve will hence run in the parent instead of the child
</I>
Yes, he is correct, sorry I did not see that sooner in the first snippet
you posted (I saw the first, but replied to the second)

case 0 should contain the child code, where the default should wait. 

This means execve() is being run in the parent, but then I see the
comment:

/* FIXME: so unbelievably racy. */
int fork2(pid_t pid)
{

&gt;<i> by the way what is this function supposed to do...return fork() ?
</I>
Well, its return isn't worth much ... as you don't know where -1 is
coming from (which fork()), even if checking errno.

This is one of the reasons why it would be so difficult to take over
maintaining the code .. the original author is no longer maintaining it.

Actually, more traffic on this list has passed today than the entire
last 8 months combined.

Cheers,
--Tim



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000081.html">[Cryopid-devel] error in fork2.c
</A></li>
	<LI>Next message: <A HREF="000084.html">[Cryopid-devel] error in fork2.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#83">[ date ]</a>
              <a href="thread.html#83">[ thread ]</a>
              <a href="subject.html#83">[ subject ]</a>
              <a href="author.html#83">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/cryopid-devel">More information about the CryoPID-devel
mailing list</a><br>
</body></html>
