<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Cryopid-devel] Fixes to compile on newer x86_64 kernels
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/cryopid-devel/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:cryopid-devel%40lists.berlios.de?Subject=Re%3A%20%5BCryopid-devel%5D%20Fixes%20to%20compile%20on%20newer%20x86_64%20kernels&In-Reply-To=%3C1253097604.28902.116.camel%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000299.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cryopid-devel] Fixes to compile on newer x86_64 kernels</H1>
    <B>Tim Post</B> 
    <A HREF="mailto:cryopid-devel%40lists.berlios.de?Subject=Re%3A%20%5BCryopid-devel%5D%20Fixes%20to%20compile%20on%20newer%20x86_64%20kernels&In-Reply-To=%3C1253097604.28902.116.camel%40localhost.localdomain%3E"
       TITLE="[Cryopid-devel] Fixes to compile on newer x86_64 kernels">echo at echoreply.us
       </A><BR>
    <I>Wed Sep 16 12:40:04 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000299.html">[Cryopid-devel] Fixes to compile on newer x86_64 kernels
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#300">[ date ]</a>
              <a href="thread.html#300">[ thread ]</a>
              <a href="subject.html#300">[ subject ]</a>
              <a href="author.html#300">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2009-09-16 at 01:48 +0200, Ondrej Mikle wrote:
&gt;<i> J&#233;r&#244;me Poulin wrote:
</I>&gt;<i> &gt; I tried compiling the sources and it seemed to have the same problems
</I>&gt;<i> &gt; as the old x86 sources, so I just added/replaced the wrong header and
</I>&gt;<i> &gt; tried to compile it with your patch added, it compiles but fails to
</I>&gt;<i> &gt; work.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Here is what I get:
</I>&gt;<i> &gt;      Ignoring map - in kernel space.
</I>&gt;<i> &gt;      Error parsing map: ffffffffff600000-ffffffffff601000 r-xp
</I>&gt;<i> &gt; 00000000 00:00 0                  [vsyscall]
</I>&gt;<i> &gt; 
</I>&gt;<i> [...]
</I>&gt;<i> &gt; [-] No suitable scribble zone could be found. Aborting.
</I>&gt;<i> &gt; zsh: abort (core dumped)  ./src/cryopid telnet $(pidof telnet)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Core was generated by `./src/cryopid telnet 22057'.
</I>&gt;<i> &gt; Program terminated with signal 6, Aborted.
</I>&gt;<i> &gt; [New process 22230]
</I>&gt;<i> &gt; #0  0x00007f1478387205 in *__GI_raise (sig=&lt;value optimized out&gt;) at
</I>&gt;<i> &gt; ../nptl/sysdeps/unix/sysv/linux/raise.c:64
</I>&gt;<i> &gt; 64	  return INLINE_SYSCALL (tgkill, 3, pid, selftid, sig);
</I>&gt;<i> &gt; (gdb)
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> I'm sure my patch is not correct (that's why I said it's hackish).
</I>&gt;<i> 
</I>&gt;<i> Unfortunately I have almost no knowledge of changes in kernels above 2.6.22. A
</I>&gt;<i> configure script for CryoPID would be awesome, though out of my reach. I'll try
</I>&gt;<i> to ask some kernel developers I know (no promises it will yield a reasonable
</I>&gt;<i> result).
</I>
A configure script is something I have been working on. Most of the
difficulty therein is figuring out just what changed from version to
version.

AC_CHECK_MEMBER[] is a very good macro to see if a structure has a given
member name, which is generally the only clue you need to adjust the
code, though going by something more precise would be much cleaner and
easier to maintain.

In short, it really requires someone who watches lkml frequently to stay
on top of that, and I am just not that person at the moment :)

Regards,
--Tim

&gt;<i> 
</I>&gt;<i> As a temporary workaround, it might be a good idea just to put precompiled
</I>&gt;<i> binaries for various kernels/dstributions in
</I>&gt;<i> <A HREF="http://dagobah.ucc.asn.au/wacky/precompiled/">http://dagobah.ucc.asn.au/wacky/precompiled/</A>
</I>&gt;<i> 
</I>&gt;<i> Ondrej
</I>&gt;<i> _______________________________________________
</I>&gt;<i> CryoPID-devel mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/cryopid-devel">CryoPID-devel at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/cryopid-devel">https://lists.berlios.de/mailman/listinfo/cryopid-devel</A>
</I>-- 
Monkey + Typewriter = Echoreply ( <A HREF="http://echoreply.us">http://echoreply.us</A> )


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000299.html">[Cryopid-devel] Fixes to compile on newer x86_64 kernels
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#300">[ date ]</a>
              <a href="thread.html#300">[ thread ]</a>
              <a href="subject.html#300">[ subject ]</a>
              <a href="author.html#300">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/cryopid-devel">More information about the CryoPID-devel
mailing list</a><br>
</body></html>
